{"version":3,"sources":["components/pages/SingleComicPage.js"],"names":["View","data","title","description","thumbnail","language","price","className","name","content","src","alt","to","SingleComicPage","comicId","useParams","useState","comic","setComic","useMarvelService","getComic","clearError","process","setProcess","useEffect","updateComic","then","res","onComicLoaded","setContent"],"mappings":"uNA+CMA,EAAO,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACJC,EAAkDD,EAAlDC,MAAOC,EAA2CF,EAA3CE,YAAaC,EAA8BH,EAA9BG,UAAWC,EAAmBJ,EAAnBI,SAAUC,EAASL,EAATK,MAEhD,OACI,sBAAKC,UAAU,eAAf,UACI,eAAC,IAAD,WACI,sBACIC,KAAK,cACLC,QAAO,UAAKP,EAAL,kBAEX,qDAAwBA,QAE5B,qBAAKQ,IAAKN,EAAWO,IAAI,QAAQJ,UAAU,sBAC3C,sBAAKA,UAAU,qBAAf,UACI,oBAAIA,UAAU,qBAAd,SAAoCL,IACpC,mBAAGK,UAAU,sBAAb,SAAoCJ,IAEpC,oBAAGI,UAAU,sBAAb,uBAA8CF,KAC9C,sBAAKE,UAAU,sBAAf,UAAsCD,EAAtC,UAEJ,cAAC,IAAD,CAAMM,GAAG,UAAUL,UAAU,qBAA7B,6BAKGM,UA7DS,WAEpB,IAAOC,EAAWC,cAAXD,QAEP,EAA0BE,mBAAS,MAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEA,EAAoDC,cAA7CC,EAAP,EAAOA,SAAUC,EAAjB,EAAiBA,WAAYC,EAA7B,EAA6BA,QAASC,EAAtC,EAAsCA,WAEtCC,qBAAU,WACNC,MACD,CAACX,IAEJ,IAAMW,EAAc,WAChBJ,IACAD,EAASN,GACJY,MAAK,SAAAC,GACFC,EAAcD,MAEjBD,MAAK,WACFH,EAAW,iBAIjBK,EAAgB,SAACX,GAEnBC,EAASD,IAIb,OACI,mCACKY,YAAWP,EAAStB,EAAMiB","file":"static/js/6.0acb4c75.chunk.js","sourcesContent":["import {useParams, Link} from \"react-router-dom\";\r\nimport {useState, useEffect, Component} from \"react\";\r\n\r\nimport Spinner from \"../spinner/spinner\";\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\nimport useMarvelService from \"../../services/MarvelService\";\r\nimport setContent from \"../../utils/setContent\";\r\n\r\nimport './SingleComicPage.scss';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst SingleComicPage = () => {\r\n\r\n    const {comicId} = useParams();\r\n\r\n    const [comic, setComic] = useState(null);\r\n\r\n    const {getComic, clearError, process, setProcess} = useMarvelService();\r\n\r\n    useEffect(() => {\r\n        updateComic();\r\n    }, [comicId]);\r\n\r\n    const updateComic = () => {\r\n        clearError();\r\n        getComic(comicId)\r\n            .then(res => {\r\n                onComicLoaded(res);\r\n            })\r\n            .then(() => {\r\n                setProcess('confirmed')\r\n            })\r\n    }\r\n\r\n    const onComicLoaded = (comic) => {\r\n        // this.setState({char: char, loading: false});\r\n        setComic(comic)\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {setContent(process, View, comic)}\r\n        </>\r\n    )\r\n}\r\n\r\nconst View = ({data}) => {\r\n    const {title, description, thumbnail, language, price} = data;\r\n\r\n    return (\r\n        <div className=\"single-comic\">\r\n            <Helmet>\r\n                <meta\r\n                    name=\"description\"\r\n                    content={`${title} comics book`}\r\n                />\r\n                <title>Marvel comics - {title}</title>\r\n            </Helmet>\r\n            <img src={thumbnail} alt=\"x-men\" className=\"single-comic__img\"/>\r\n            <div className=\"single-comic__info\">\r\n                <h2 className=\"single-comic__name\">{title}</h2>\r\n                <p className=\"single-comic__descr\">{description}</p>\r\n                {/*<p className=\"single-comic__descr\">{pageCount} pages</p>*/}\r\n                <p className=\"single-comic__descr\">Language: {language}</p>\r\n                <div className=\"single-comic__price\">{price}$</div>\r\n            </div>\r\n            <Link to=\"/comics\" className=\"single-comic__back\">Back to all</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleComicPage;"],"sourceRoot":""}